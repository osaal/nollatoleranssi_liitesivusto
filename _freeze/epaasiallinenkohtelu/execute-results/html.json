{
  "hash": "ac0ab34297af5ee21d6dc43e19cc1cbc",
  "result": {
    "markdown": "# Epäasiallisen kohtelun mittaristo\n\n## Yleismallin määrittely\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Epäasiallisen kohtelun seitsemän ulottuvuuden CFA-malli\nyleismalli <- '\n  # Malli 1\n\n  # Latentit muuttujat\n    omakohtainen_a =~ verb1 + oma1 + uhk1 + fyy1 + seks1 + viha1 + syrj1\n    havaittu_a =~ verb2 + oma2 + uhk2 + fyy2 + seks2 + viha2 + syrj2\n    omakohtainen_b =~ verb3 + oma3 + uhk3 + fyy3 + seks3 + viha3 + syrj3\n    havaittu_b =~ verb4 + oma4 + uhk4 + fyy4 + seks4 + viha4 + syrj4\n\n  # Estimoitavat kovarianssit\n    omakohtainen_a ~~ havaittu_a\n    omakohtainen_b ~~ havaittu_b\n    \n  # Kovarianssit, jotka lukitaan nollaan\n    omakohtainen_a ~~ 0*omakohtainen_b\n    havaittu_a ~~ 0*havaittu_b\n    omakohtainen_a ~~ 0*havaittu_b\n    omakohtainen_b ~~ 0*havaittu_a\n'\n```\n:::\n\n\nMuuttuja `yleismalli` on Malli 1: Epäasiallisen kohtelun seitsemän ulottuvuutta neljässä tekijä- ja tekokontekstiryhmässä. Jokainen ulottuvuus on mitattu erikseen kyselytutkimuksessa. Mallissa on seuraavat latentit muuttujat:\n\n-   `omakohtainen_a`: Itse kohdattu epäasiallinen kohtelu organisaation sisällä.\n\n-   `omakohtainen_b`: Itse kohdattu epäasiallinen kohtelu organisaation ulkopuolella.\n\n-   `havaittu_a`: Kollegan havaittu epäasiallinen kohtelu organisaation sisällä.\n\n-   `havaittu_b`: Kollegan havaittu epäasiallinen kohtelu organisaation ulkopuolella.\n\nMallissa estimoidaan kahden faktoriparin kovarianssit: `omakohtainen_a ~~ havaittu_a` ja `omakohtainen_b ~~ havaittu_b`. Neljä muuta mahdollista faktoriparien kovarianssia lukitaan nollaan: `omakohtainen_a ~~ 0*omakohtainen_b`, `havaittu_a ~~ 0*havaittu_b`, `omakohtainen_a ~~ 0*havaittu_b` ja `omakohtainen_b ~~ 0*havaittu_a`.\n\nYleismallin vapausasteet laskettiin käyttäen Cortinan ja kollegoiden *Shiny*-applikaatiota osoitteessa <https://gmuiopsych.shinyapps.io/degreesoffreedom/> [haettu 13.3.2024; @cortina2017]. Mallin vapausasteet ovat $\\text{df}_M = 348$. Applikaation asetuksina käytettiin seuraavia arvoja:\n\n-   Model type: CFA/SEM\n\n-   Number of Indicators: 28 (kaikki 28 havaittua muuttujaa)\n\n-   Number of Single Item Indicators: 0\n\n-   Number of Latent Exogenous Variables: 4 (kaikki 4 latenttia muuttujaa)\n\n-   Number of Latent Endogenous Variables: 0\n\n-   Number of Constrained Exogenous Relationships: 4 (latenttien muuttujien kovarianssit sidotaan nollaan kaikille, paitsi kahdelle muuttujaparille)\n\n-   Number of Paths between Exogenous and Endogenous Variables: 0\n\n-   Number of Causal Paths between Endogenous Variables: 0\n\n-   Number of Measurement Error Covariances: 0\n\n-   Number of Relations among Structural Disturbances: 0\n\nTällöin informaation (kovarianssien ja varianssien) määräksi saatiin 406 ja estimoitavien parametrien määräksi 58, jolloin $\\text{df}_M = 406-58 = 348$.\n\n### Vaihtoehtomalli 1: Vapautetut kovarianssit\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Epäasiallisen kohtelun vaihtoehtomalli, jossa latentit kovarianssit vapautettu\nvaihtoehtomalli.1 <- '\n  # Vaihtoehtomalli 1\n\n  # Latentit muuttujat\n    omakohtainen_a =~ verb1 + oma1 + uhk1 + fyy1 + seks1 + viha1 + syrj1\n    havaittu_a =~ verb2 + oma2 + uhk2 + fyy2 + seks2 + viha2 + syrj2\n    omakohtainen_b =~ verb3 + oma3 + uhk3 + fyy3 + seks3 + viha3 + syrj3\n    havaittu_b =~ verb4 + oma4 + uhk4 + fyy4 + seks4 + viha4 + syrj4\n\n  # Estimoitavat kovarianssit\n    omakohtainen_a ~~ havaittu_a\n    omakohtainen_b ~~ havaittu_b\n    omakohtainen_a ~~ omakohtainen_b\n    havaittu_a ~~ havaittu_b\n    omakohtainen_a ~~ havaittu_b\n    omakohtainen_b ~~ havaittu_a\n'\n```\n:::\n\n\nMallin vapausasteet ovat laskurin mukaan $\\text{df}_M = 344$:\n\n-   Model type: CFA/SEM\n\n-   Number of Indicators: 28\n\n-   Number of Single Item Indicators: 0\n\n-   Number of Latent Exogenous Variables: 4\n\n-   Number of Latent Endogenous Variables: 0\n\n-   Number of Constrained Exogenous Relationships: 0\n\n-   Number of Paths between Exogenous and Endogenous Variables: 0\n\n-   Number of Causal Paths between Endogenous Variables: 0\n\n-   Number of Measurement Error Covariances: 0\n\n-   Number of Relations among Structural Disturbances: 0\n\n### Vaihtoehtomalli 2: Kahden faktorin malli ilman latenttia kovarianssia\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Epäasiallisen kohtelun vaihtoehtomalli, jossa kaksi faktoria ilman yhteistä kovarianssia\n\nvaihtoehtomalli.2 <- '\n  # Vaihtoehtomalli 2\n  \n  # Latentit muuttujat\n    omakohtainen =~ verb1 + verb3 + oma1 + oma3 + uhk1 + uhk3 + fyy1 + fyy3 + seks1 + seks3 + viha1 + viha3 + syrj1 + syrj3\n    havaittu =~ verb2 + verb4 + oma2 + oma4 + uhk2 + uhk4 + fyy2 + fyy4 + seks2 + seks4 + viha2 + viha4 + syrj2 + syrj4\n  \n  # Kovarianssit, jotka lukitaan nollaan\n  omakohtainen ~~ 0*havaittu\n'\n```\n:::\n\n\nMallin vapausasteet ovat laskurin mukaan $\\text{df}_M = 350$:\n\n-   Model type: CFA/SEM\n\n-   Number of Indicators: 28\n\n-   Number of Single Item Indicators: 0\n\n-   Number of Latent Exogenous Variables: 2\n\n-   Number of Latent Endogenous Variables: 0\n\n-   Number of Constrained Exogenous Relationships: 1\n\n-   Number of Paths between Exogenous and Endogenous Variables: 0\n\n-   Number of Causal Paths between Endogenous Variables: 0\n\n-   Number of Measurement Error Covariances: 0\n\n-   Number of Relations among Structural Disturbances: 0\n\n### Vaihtoehtomalli 3: Kahden faktorin malli vapaalla kovarianssilla\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Epäasiallisen kohtelun vaihtoehtomalli, jossa kaksi korreloivaa faktoria\n\nvaihtoehtomalli.3 <- '\n  # Vaihtoehtomalli 3\n  \n  # Latentit muuttujat\n    omakohtainen =~ verb1 + verb3 + oma1 + oma3 + uhk1 + uhk3 + fyy1 + fyy3 + seks1 + seks3 + viha1 + viha3 + syrj1 + syrj3\n    havaittu =~ verb2 + verb4 + oma2 + oma4 + uhk2 + uhk4 + fyy2 + fyy4 + seks2 + seks4 + viha2 + viha4 + syrj2 + syrj4\n  \n  # Estimoitavat kovarianssit\n    omakohtainen ~~ havaittu\n'\n```\n:::\n\n\nMallin vapausasteet ovat laskurin mukaan $\\text{df}_M = 349$:\n\n-   Model type: CFA/SEM\n\n-   Number of Indicators: 28\n\n-   Number of Single Item Indicators: 0\n\n-   Number of Latent Exogenous Variables: 2\n\n-   Number of Latent Endogenous Variables: 0\n\n-   Number of Constrained Exogenous Relationships: 0\n\n-   Number of Paths between Exogenous and Endogenous Variables: 0\n\n-   Number of Causal Paths between Endogenous Variables: 0\n\n-   Number of Measurement Error Covariances: 0\n\n-   Number of Relations among Structural Disturbances: 0\n\n## Tilastollisen voiman testi\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(WebPower)\n\notoskoot <- list()\n\nfor (i in c(0.1, 0.3, 0.5)) {\n  tulos <- WebPower::wp.sem.chisq(\n    n = NULL,\n    df = 248,\n    effect = i,\n    power = 0.8,\n    alpha = 0.05\n  )\n  otoskoot <- c(otoskoot, tulos$n)\n}\n\n# Pyöristetään otoskoot ylöspäin\notoskoot <- lapply(otoskoot, function(x) {ceiling(x)})\n```\n:::\n\n\nKhiin neliön testin luotettavalle käytölle 80 prosentin tilastollisella voimalla tarvitsemme seuraavat otoskoot riippuen efektikoosta:\n\n-   Efektikoko `0.1`: $n = 610$\n\n-   Efektikoko `0.3`: $n = 204$\n\n-   Efektikoko `0.5`: $n = 123$\n\n## Yleismallin CFA-testaus\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(lavaan)\n\n# Muista lisätä itse data\nmallidata <- data.frame()\n\nsovitettu_yleinen <- lavaan::cfa(\n  yleismalli,\n  data = mallidata,\n  fit.measures = TRUE,\n  standardized = TRUE,\n  estimator = \"MLR\",\n  missing = \"ML\", # FIML-menetelmä puuttuville arvoille\n  test = \"robust\",\n  se = \"robust\"\n)\n\nsummary(sovitettu_yleinen)\nlavaan::modificationIndices(sovitettu_yleinen)\n```\n:::\n\n\n## CFA-mallin invarianssitestaus\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(lavaan)\nlibrary(semTools)\n\n# Muista lisätä itse data sekä valittu malli\nmallidata <- data.frame()\nvalittu.malli <- \"\"\n\nsovitettu <- lavaan::cfa(\n  valittu.malli,\n  data = mallidata,\n  fit.measures = TRUE,\n  standardized = TRUE,\n  estimator = \"MLR\",\n  missing = \"ML\", # FIML-menetelmä puuttuville arvoille\n  test = \"robust\",\n  se = \"robust\"\n)\n\n# Mallin invarianssitestaus suoritetaan lavaan-paketilla automaattisesti. Käytetään Satorra-Bentley-korjattu khiin neliötä.\n\n# Kohderyhmä\ninvarianssi_kohderyhmä <- semTools::measurementInvariance(\n  model = sovitettu,\n  data = mallidata,\n  group = \"kohderyhmä\",\n  strict = TRUE\n)\n# Ammattiryhmä\ninvarianssi_ammattiryhmä <- semTools::measurementInvariance(\n  model = sovitettu,\n  data = mallidata,\n  group = \"ammattiryhmä\",\n  strict = TRUE\n)\n# Kieliversio\ninvarianssi_kieli <- semTools::measurementInvariance(\n  model = sovitettu,\n  data = mallidata,\n  group = \"kieli\",\n  strict = TRUE\n)\n# Yhteydenottomenetelmät\ninvarianssi_yhteydenotto <- semTools::measurementInvariance(\n  model = sovitettu,\n  data = mallidata,\n  group = \"yhteydenotto\",\n  strict = TRUE\n)\n```\n:::\n\n\nSovitettava malli estimoidaan robustilla *Maximum Likelihood* -estimaattorilla (`estimator = \"MLR\"`). Puuttuvat arvot käsitellään \"full information maximum likelihood\"-menetelmällä (`missing = \"ML\"`).\n",
    "supporting": [
      "epaasiallinenkohtelu_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}